---
title: "Writing durable code"
---

```{r, include = FALSE}
leanbuild::set_knitr_image_path()
```

# Organizing your project

## Learning Objectives

```{r, fig.align='center', echo = FALSE, fig.alt= "This chapter will demonstrate how to: Identify what aspects make an analysis project more easily navigable. Set up a project with an organizational scheme that will work for the author and their colleagues."}
leanbuild::include_slide("https://docs.google.com/presentation/d/1LMurysUhCjZb7DVF6KS9QmJ5NBjwWVjRn40MS9f2noE/edit#slide=id.gf7bed24491_1_51")
```


## Readings about reproducible, durable code

But you don't have to take my organizational strategy, there are lots of ideas out there.
You can read through some of these articles to think about what kind of organizational strategy might work for you and your team:   

- [Jenny Bryan's organizational strategy](https://www.stat.ubc.ca/~jenny/STAT545A/block19_codeFormattingOrganization.html) [@Bryan2021].
- [Jenny Bryan on Project-oriented workflows](https://www.tidyverse.org/blog/2017/12/workflow-vs-script/)[@Bryan2017].
- [Data Carpentry mini-course about organizing projects](https://datacarpentry.org/organization-genomics/) [@DataCarpentry2021].
- [Andrew Severin's strategy for organization](https://bioinformaticsworkbook.org/projectManagement/Intro_projectManagement.html#gsc.tab=0) [@Severin2021].
- [A BioStars thread where many individuals share their own organizational strategies](https://www.biostars.org/p/821/) [@Biostars2021].
- [Data Carpentry course chapter about getting organized](https://bioinformatics-core-shared-training.github.io/shell-genomics/07-organization/index.html) [@DataCarpentry2019].

## Exercise: Make code more durable!

#### Get the example project files for this chapter

For this chapter, we will organize our example project files!

<details> <summary> About command line </summary>

If you decide to follow the command line prompts but are not familiar with it [read this article](https://towardsdatascience.com/a-quick-guide-to-using-command-line-terminal-96815b97b955).
Make sure you have [`wget`](https://www.gnu.org/software/wget/manual/wget.html) installed on your computer. You can check if you have it by running the following in your command line:

```{bash}
wget -V
```

If this prints back something similar to this message above, then you already have `wget` and don't need to do anything! But if this command prints back `wget command not found` you will need to [ install wget](https://www.jcchouinard.com/wget/).

</details>

Now choose which version of the example you would like to work with and follow the instructions.  

<details> <summary>Python version of the exercise</summary>

To get the _Python project example files_, [click this link](https://raw.githubusercontent.com/jhudsl/Reproducibility-Examples/main/chapter-zips/python-heatmap-chapt-4.zip).
Or you can use these commands in command line.

```{bash, results = 'hide', message = FALSE, class.source = 'fold-show'}
mkdir -p chapter-zips
wget -O chapter-zips/python-heatmap-chapt-4.zip https://raw.githubusercontent.com/jhudsl/Reproducibility-Examples/main/chapter-zips/python-heatmap-chapt-4.zip
```

Now double click your chapter zip file to unzip. For Windows you may have to [follow these instructions](https://support.microsoft.com/en-us/windows/zip-and-unzip-files-f6dde0a7-0fec-8294-e1d3-703ed85e7ebc)).

```{bash, echo = FALSE, message = FALSE, results = 'hide', class.source = 'fold-show'}
unzip -o chapter-zips/python-heatmap-chapt-4.zip -d chapter-zips/
```

Now let's take a look at the files inside these projects. These are purposely not organized because for this exercise we will organize them!

```{bash, echo = FALSE, class.source = 'fold-show'}
ls chapter-zips/python-heatmap-chapt-4
```

Organize these files! For now we will organize these files by hand, but in the upcoming chapters we will make it so our analysis places these items in the correct directories (and creates the directories if they do not exist!).

- Create a `plots`, `results`, and `data` folder and organize the files into their respective folders. Note that `aggregated_metadata.json` and `LICENSE.TXT` also belong in the `data folder.
- Delete any files that say "OLD". Keeping multiple versions of your scripts around is a recipe for mistakes and confusion. In the advanced course we will discuss how to use version control to help you track this more elegantly.

</details>

<details> <summary>R version of the exercise</summary>

To get the _R project examples files_ [click this link](https://raw.githubusercontent.com/jhudsl/Reproducibility-Examples/main/chapter-zips/r-heatmap-chapt-4.zip).
Or you can use these commands in command line.

```{bash, results = 'hide', message = FALSE, class.source = 'fold-show'}
mkdir -p chapter-zips
wget -O chapter-zips/r-heatmap-chapt-4.zip https://raw.githubusercontent.com/jhudsl/Reproducibility-Examples/main/chapter-zips/r-heatmap-chapt-4.zip
```

Now double click your chapter zip file to unzip. For Windows you may have to [follow these instructions](https://support.microsoft.com/en-us/windows/zip-and-unzip-files-f6dde0a7-0fec-8294-e1d3-703ed85e7ebc)).

```{bash, echo = FALSE, message = FALSE, results = 'hide', class.source = 'fold-show'}
unzip -o chapter-zips/r-heatmap-chapt-4.zip -d chapter-zips/
```

Now let's take a look at the files inside these projects. These are purposely not organized because for this exercise we will organize them!

```{bash, echo = FALSE, class.source = 'fold-show'}
ls chapter-zips/r-heatmap-chapt-4
```

Organize these files! For now we will organize these files by hand, but in the upcoming chapters we will make it so our analysis places these items in the correct directories (and creates the directories if they do not exist!).

- Create a `plots`, `results`, and `data` folder and organize the files into their respective folders. Note that `aggregated_metadata.json` and `LICENSE.TXT` also belong in the `data` folder.
- Delete any files that say "OLD". Keeping multiple versions of your scripts around is a recipe for mistakes and confusion. In the advanced course we will discuss how to use version control to help you track this more elegantly.

</details>

After your files are organized, you are ready to move on to the next chapter and start diving into the code!
